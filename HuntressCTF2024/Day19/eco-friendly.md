## Eco-friendly
The given file is NOT eco-friendly despite it's name. It contains two sections, the first being an IEX array with large int values in each index. The second portion seems to be some sort of string generated by using the ENV variables in default Windows locations. So we can assume the concatenated string generated in the second half is very very long, and the array is grabbing certain characters in certain positions, reconstructing another string.

Funny enough, the creator had a video creating a similar thing [here](https://www.youtube.com/watch?v=8CiNx4nNqQ0).

After deobfuscating the first time, we generated another version of essentially the same script, so it has been obfuscated multiple times. Since we don't know how many times, I created a loop that will continue as long as it can. 

Save as a .ps1 and execute in powershell. Eventually we reach our flag.

```pwsh
$encodedFilePath = "eco_friendly"  # File path to eco_friendly
$iteration = 1
$decodedText = Get-Content -Path $encodedFilePath -Raw

while ($true) {
    if ($decodedText -match "iex\s*\(\s*'(.*?)'\s*-f\s+(.*)\)") {
        $formatString = $matches[1]
        $toEvaluate = $matches[2]

        if ($toEvaluate -match '\)$') {
            $toEvaluate = $toEvaluate.Substring(0, $toEvaluate.Length - 1)
        }

        $decodedArguments = $toEvaluate -split ', ' | ForEach-Object {
            Invoke-Expression $_
        }

        $decodedText = $formatString -f $decodedArguments
        $iteration++
    } else {
        break
    }
}

Write-Output "Final Decoded Output:"
Write-Output $decodedText
```
